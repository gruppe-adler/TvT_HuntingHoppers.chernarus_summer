if (hasInterface) then {

    player addEventHandler ["GetInMan", { 
        params ["_unit", "_role", "_vehicle", "_turret"];  

        if (
            _vehicle isKindOf "gm_tracked_base" ||
            _vehicle isKindOf "gm_wheeled_base" || 
            _vehicle isKindOf "gm_helicopter_base" ||
            _vehicle isKindOf "gm_plane_base"
        ) then {
            if (_role == "driver") then {
                [driver _vehicle] remoteExecCall ["GRAD_dynGroupDecals_fnc_refreshDecals", 2];
            }; 
        };
    }];

    player addEventHandler ["SeatSwitchedMan", {
        params ["_unit"];

        if (
            _vehicle isKindOf "gm_tracked_base" ||
            _vehicle isKindOf "gm_wheeled_base" || 
            _vehicle isKindOf "gm_helicopter_base" ||
            _vehicle isKindOf "gm_plane_base"
        ) then {

            if (!isNull driver (objectParent _unit)) then {
                [driver _unit] remoteExecCall ["GRAD_dynGroupDecals_fnc_refreshDecals", 2];
            };

        };
    }];

};

if (!isServer) exitWith {};

GRAD_DYNGROUPDECALS_INSIGNIA_COLOR = "wht";

// blu, yel

["GRAD_dynGroups_registerGroup", {
    params ["_group", "_name"];

    private _drivers = [];

    {
        if (objectParent _x != _x) then {
          if (!isNull driver (objectParent _x)) then {
            _drivers pushBackUnique (driver _x);
          };
        };
    } forEach units _group;

    {
        [_x] call GRAD_dynGroupDecals_fnc_refreshDecals;
    } forEach _drivers;

}] call CBA_fnc_addEventhandler;